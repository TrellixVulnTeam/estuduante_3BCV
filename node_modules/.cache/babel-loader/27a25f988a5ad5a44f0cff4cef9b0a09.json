{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/yarlo/Documentos/APP/quiz-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/yarlo/Documentos/APP/quiz-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/yarlo/Documentos/APP/quiz-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{connect}from'react-redux';import DarkTable from\"../../components/dark-table/dark-table.component\";import DashboardCardOverview from\"../../components/dashboard-card-overview/dashboard-card-overview.component\";import{firestore,getResult}from'../../firebase/firebase.utilis';import{selectCurrentUser}from'../../redux/user/user.selector';var Homepage=function Homepage(_ref){var user=_ref.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),lastResult=_useState2[0],setLastResult=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];useEffect(function(){var getResult=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var docRef,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:docRef=firestore.doc('result/0Lsbc5zdNsXsMJHSeP1u');_context.next=3;return docRef.get();case 3:data=_context.sent;console.log(data.data());case 5:case\"end\":return _context.stop();}}},_callee);}));return function getResult(){return _ref2.apply(this,arguments);};}();getResult();},[]);useEffect(function(){if(user){var getData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var docRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!user){_context2.next=5;break;}_context2.next=3;return getResult(user.id);case 3:docRef=_context2.sent;docRef.onSnapshot(function(el){setLastResult(el.data().result);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getData(){return _ref3.apply(this,arguments);};}();getData();setUserData(user);}else{setUserData(null);}},[userData]);window.value=12;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DashboardCardOverview,{lastResult:lastResult}),/*#__PURE__*/_jsx(DarkTable,{lastResult:lastResult})]});};var mapStateToProps=function mapStateToProps(state){return{user:selectCurrentUser(state)};};export default connect(mapStateToProps)(Homepage);","map":{"version":3,"sources":["/home/yarlo/Documentos/APP/quiz-final/src/pages/dashboard/dashboard.component.jsx"],"names":["useState","useEffect","connect","DarkTable","DashboardCardOverview","firestore","getResult","selectCurrentUser","Homepage","user","lastResult","setLastResult","userData","setUserData","docRef","doc","get","data","console","log","getData","id","onSnapshot","el","result","window","value","mapStateToProps","state"],"mappings":"8lBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kDAAtB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,4EAAlC,CAEA,OAASC,SAAT,CAAoBC,SAApB,KAAqC,gCAArC,CACA,OAASC,iBAAT,KAAkC,gCAAlC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,eACST,QAAQ,EADjB,wCACpBU,UADoB,eACRC,aADQ,8BAEKX,QAAQ,EAFb,yCAEpBY,QAFoB,eAEVC,WAFU,eAI3BZ,SAAS,CAAC,UAAM,CACZ,GAAMK,CAAAA,SAAS,2FAAG,mJACRQ,MADQ,CACCT,SAAS,CAACU,GAAV,CAAc,6BAAd,CADD,uBAEKD,CAAAA,MAAM,CAACE,GAAP,EAFL,QAERC,IAFQ,eAGdC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACA,IAAL,EAAZ,EAHc,sDAAH,kBAATX,CAAAA,SAAS,2CAAf,CAMAA,SAAS,GACZ,CARQ,CAQN,EARM,CAAT,CASAL,SAAS,CAAC,UAAM,CACZ,GAAIQ,IAAJ,CAAU,CACN,GAAMW,CAAAA,OAAO,2FAAG,uJACRX,IADQ,iDAEaH,CAAAA,SAAS,CAACG,IAAI,CAACY,EAAN,CAFtB,QAEFP,MAFE,gBAGRA,MAAM,CAACQ,UAAP,CAAkB,SAAAC,EAAE,CAAI,CACpBZ,aAAa,CAACY,EAAE,CAACN,IAAH,GAAUO,MAAX,CAAb,CACH,CAFD,EAHQ,wDAAH,kBAAPJ,CAAAA,OAAO,2CAAb,CAWAA,OAAO,GACPP,WAAW,CAACJ,IAAD,CAAX,CACH,CAdD,IAcO,CACHI,WAAW,CAAC,IAAD,CAAX,CACH,CAGJ,CApBQ,CAoBN,CAACD,QAAD,CApBM,CAAT,CAsBAa,MAAM,CAACC,KAAP,CAAe,EAAf,CAIA,mBACI,wCACI,KAAC,qBAAD,EAAuB,UAAU,CAAEhB,UAAnC,EADJ,cAEI,KAAC,SAAD,EAAW,UAAU,CAAEA,UAAvB,EAFJ,GADJ,CASH,CAhDD,CAiDA,GAAMiB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BnB,IAAI,CAAEF,iBAAiB,CAACqB,KAAD,CADO,CAAL,EAA7B,CAGA,cAAe1B,CAAAA,OAAO,CAACyB,eAAD,CAAP,CAAyBnB,QAAzB,CAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport DarkTable from \"../../components/dark-table/dark-table.component\";\nimport DashboardCardOverview from \"../../components/dashboard-card-overview/dashboard-card-overview.component\";\n\nimport { firestore, getResult } from '../../firebase/firebase.utilis'\nimport { selectCurrentUser } from '../../redux/user/user.selector';\n\nconst Homepage = ({ user }) => {\n    const [lastResult, setLastResult] = useState();\n    const [userData, setUserData] = useState()\n\n    useEffect(() => {\n        const getResult = async () => {\n            const docRef = firestore.doc('result/0Lsbc5zdNsXsMJHSeP1u');\n            const data = await docRef.get();\n            console.log(data.data())\n\n        }\n        getResult()\n    }, [])\n    useEffect(() => {\n        if (user) {\n            const getData = async () => {\n                if (user) {\n                    const docRef = await getResult(user.id);\n                    docRef.onSnapshot(el => {\n                        setLastResult(el.data().result)\n                    })\n\n                }\n\n\n            }\n            getData();\n            setUserData(user)\n        } else {\n            setUserData(null)\n        }\n\n\n    }, [userData])\n\n    window.value = 12\n\n\n   \n    return (\n        <>\n            <DashboardCardOverview lastResult={lastResult} />\n            <DarkTable lastResult={lastResult} />\n\n        </>\n\n\n    );\n}\nconst mapStateToProps = state => ({\n    user: selectCurrentUser(state)\n})\nexport default connect(mapStateToProps)(Homepage);"]},"metadata":{},"sourceType":"module"}